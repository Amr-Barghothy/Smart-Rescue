<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Create Case</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=heart_arrow"/>

</head>
<body class="bg-[##fafbfd]">
    <nav class="between bg-gradient-to-r from-red-500 to-pink-800 p-12 text-white flex justify-between items-center px-6 py-3 shadow sticky top-0">
        <div class="flex items-center space-x-3">
            <img src="{% static 'images/Logo.png' %}" alt="WAHA Logo" class="w-12 h-12 rounded-xl">
            <a href="/dashboard" class="font-semibold text-2xl">Smart Rescue</a>
        </div>
        <ul class="flex space-x-5 text-lg">
            <li>
                <div class="flex items-center space-x-1">
                    <span class="material-icons">home</span>
                    <a href="/dashboard" class="hover:text-gray-300">Dashboard</a>
                </div>
            </li>
            <li>
                <div class="flex items-center space-x-1">
                    <span class="material-icons">add</span>
                    <a href="/create_case" class="hover:text-gray-300">Create Case</a>
                </div>
            </li>
            {% if user.is_volunteer %}
            <li>
                <div class="flex items-center space-x-1">
                    <span class="material-icons">volunteer_activism</span>
                    <a href="/volunteer" class="hover:text-gray-300">Volunteer</a>
                </div>
            </li>
            {% endif %}
            <li>
                <div class="flex items-center space-x-1">
                    <span class="material-symbols-outlined">heart_arrow</span>
                    <a href="/services" class="hover:text-gray-300">Services</a>
                </div>
            </li>
            <li>
                <div class="flex items-center space-x-1">
                    <span class="material-icons">language</span>
                    <a href="#" class="hover:text-gray-300">Language</a>
                </div>
            </li>
            <li>
                <div class="flex items-center space-x-1">
                    <span class="material-icons">info</span>
                    <a href="{% url 'about' %}" class="hover:text-gray-300">About Us</a>
                </div>
            </li>
            <li>
                <div class="flex items-center space-x-1">
                    <span class="material-icons">logout</span>
                    <a href="/logoutform" class="hover:text-gray-300">Logout</a>
                </div>
            </li>
        </ul>
    </nav>
    <div class="w-40/100 mx-auto">
        <div class="my-7">
            <h1 class="text-2xl text-[#f17e46] font-bold mb-2">
                Report a New Case
            </h1>
            <p class="text-gray-500">
                Help your community by reporting issues that need attention
            </p>
        </div>
        <div class="border-1 border-gray-300 rounded-lg p-7">
            <div class="mb-2">
                <p class="font-bold text-900 text-lg">Case Details</p>
                <p class="text-gray-500 text-base text-lg">
                    Fill in the information about the case you want to report
                </p>
            </div>
            <form action="/report_case" method="post">
                {% csrf_token %}
                <div class="mb-2 flex flex-col my-8">
                    <label for="title" class="font-bold">Case Title *</label>
                    <input
                            type="text"
                            name="title"
                            id="title"
                            placeholder="Brief description of a issue"
                            class="focus-within:outline-double focus-within:outline-cyan-500 rounded-md p-2 bg-[#f8fafc] placeholder:text-gray-500"
                    />
                </div>
                <div class="mb-2 flex gap-2 my-8">
                    <div class="flex flex-col flex-1">
                        <label for="category" class="font-bold">Category*</label>
                        <select
                                name="category"
                                id="category"
                                class="bg-[#f8fafc] p-2 rounded-md"
                        >
                            <option value="" disabled selected hidden>
                                Select a category
                            </option>
                            <option value="kidnapping">Kidnapping</option>
                            <option value="violence">Violence</option>
                            <option value="abuse">Abuse</option>
                            <option value="lost">Lost Child</option>
                        </select>
                    </div>
                    <div class="flex flex-col flex-1">
                        <label for="authorities" class="font-bold"
                        >Specialized Authorities*</label
                        >
                        <select
                                name="authorities"
                                id="authorities"
                                class="bg-[#f8fafc] p-2 rounded-md"
                        >
                            <option value="" disabled selected hidden class="text-red-200">
                                Select an authority type
                            </option>
                            <option value="police">Police</option>
                            <option value="hospital">Hospital</option>
                            <option value="municipality">Municipality</option>
                            <option value="unknown">Unknown</option>
                        </select>
                    </div>
                </div>
                <div class="mb-2 flex items-center gap-x-4 my-8">
                    <div class="flex flex-col flex-1">
                        <label for="location" class="font-bold">Location *</label>
                        <div class="flex flex-1 gap-x-2">
                            <input
                                    type="text"
                                    name="location"
                                    id="location"
                                    class="focus-within:outline-double focus-within:outline-cyan-500 rounded-md p-2 bg-[#f8fafc] placeholder:text-gray-500 w-full"
                            />
                            <button
                                    class="border-gray-300 border-1 p-2 rounded-md hover:bg-red-400 cursor-pointer"
                            >
                                <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24"
                                        height="24"
                                >
                                    <path
                                            d="M12 2a7.008 7.008 0 0 0-7 7c0 5.353 6.036 11.45 6.293 11.707l.707.707.707-.707C12.964 20.45 19 14.353 19 9a7.008 7.008 0 0 0-7-7zm0 16.533C10.471 16.825 7 12.553 7 9a5 5 0 0 1 10 0c0 3.546-3.473 7.823-5 9.533z"
                                    />
                                    <path
                                            d="M12 6a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"
                                    />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="flex flex-col flex-1">
                        <label for="status" class="font-bold">Danger Level*</label>
                        <select
                                name="status"
                                id="status"
                                class="bg-[#f8fafc] p-2 rounded-md"
                        >
                            <option value="" disabled selected hidden class="text-red-200">
                                Select The Status
                            </option>
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
                <div class="mb-2 flex flex-col my-8">
                    <p>Describe the Case</p>
                    <div class="flex bg-[#f1f5f9] rounded-lg p-1">
                        <button
                                type="button"
                                class="flex-1 bg-[#f1f5f9] rounded-xl p-1 cursor-pointer"
                                id="text-btn"
                        >
                            Text
                        </button>
                        <button
                                type="button"
                                class="flex-1 bg-[#f1f5f9] rounded-xl p-1 cursor-pointer"
                                id="voice-btn"
                        >
                            Voice
                        </button>
                        <button
                                type="button"
                                class="flex-1 bg-[#f1f5f9] rounded-xl p-1 cursor-pointer"
                                id="image-btn"
                        >
                            Image
                        </button>
                    </div>
                    <textarea
                            name="text_description"
                            id="text-description"
                            placeholder="Type your description here"
                            class="hidden mt-2 p-2 border rounded w-full"
                    ></textarea>
                    <input
                            type="file"
                            name="image_file"
                            id="image-upload"
                            accept="image/*"
                            class="hidden mt-2"
                    />
                    <input type="hidden" name="audio_data" id="audio_data"/>
                    <div
                            id="voice-controls"
                            class="hidden mt-2 flex items-center gap-2"
                    >
                        <button
                                type="button"
                                id="record-btn"
                                class="bg-red-500 text-white px-4 py-2 rounded"
                        >
                            Start Recording
                        </button>
                        <span id="record-status">Not recording</span>
                    </div>
                </div>
                <div class="flex gap-x-8 mt-12 mb-3">
                    <button
                            type="submit"
                            class="hover:bg-red-400 hover:border-red-500 border-1 flex-1 text-center rounded-lg text-[#f17e46] border-gray-400 hover:text-white p-2 cursor-pointer"
                    >
                        Submit Case
                    </button>
                    <a
                            href="/dashboard"
                            class="hover:bg-[#003247] flex-1 text-center rounded-lg border-1 border-gray-400 text-blue-800 hover:text-white p-2"
                    >Cancel</a
                    >
                </div>
                {% if messages %}
                <ul>
                    {% for message in messages %}
                    <li>{{message}}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </form>
            <script src="{% static 'script.js' %}"></script>
        </div>
    </div>
</body>
</html>
